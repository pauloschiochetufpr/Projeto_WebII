<div class="p-6 w-full max-w-xl bg-white rounded-lg shadow-lg">
  <!-- Cabeçalho -->
  <div class="flex items-center justify-between border-b pb-3 mb-4">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <span class="w-3 h-3 rounded-full bg-green-500"></span>
      Solicitação do Cliente
    </h2>
    <span
      class="px-3 py-1 text-xs rounded-full"
      [ngClass]="{
        'bg-gray-200 text-gray-700': data.state === 'ABERTA',
        'bg-yellow-100 text-yellow-700': data.state === 'ORÇADA',
        'bg-green-100 text-green-700': data.state === 'APROVADA',
        'bg-red-100 text-red-700': data.state === 'REJEITADA',
        'bg-blue-100 text-blue-700': data.state === 'ARRUMADA',
        'bg-orange-100 text-orange-700': data.state === 'PAGA',
        'bg-emerald-100 text-emerald-700': data.state === 'FINALIZADA'
      }"
    >
      {{ data.state }}
    </span>
  </div>

  <!-- Dados principais -->
  <div class="grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg mb-6 text-sm">
    <p><strong>ID:</strong> {{ data.id ?? data.idSolicitacao }}</p>
    <p><strong>Nome:</strong> {{ data.nome ?? data.name }}</p>
    <p><strong>Data/Hora:</strong> {{ data.dataHora ?? data.createdAt | date:'short' }}</p>
    <p><strong>Descrição:</strong> {{ data.descricao ?? data.description ?? '—' }}</p>
    <p *ngIf="data.valor" class="col-span-2">
      <strong>Valor:</strong> R$ {{ data.valor }}
    </p>
  </div>

  <!-- Ações -->
  <div class="space-y-4">
    <div *ngIf="data.state === 'ORÇADA'" class="flex gap-2">
      <button
        (click)="aprovar()"
        class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded"
      >
        Aprovar
      </button>
      <button
        (click)="rejeitar()"
        class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded"
      >
        Rejeitar
      </button>
    </div>

    <div *ngIf="data.state === 'REJEITADA'" class="flex gap-2">
      <button
        (click)="resgatar()"
        class="px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded"
      >
        Resgatar
      </button>
    </div>

    <div *ngIf="data.state === 'ARRUMADA'" class="flex gap-2">
      <button
        (click)="pagar()"
        class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded"
      >
        Pagar
      </button>
    </div>
  </div>

  <!-- Fechar -->
  <div class="mt-8 text-right border-t pt-4">
    <button
      (click)="close()"
      class="px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded"
    >
      Fechar
    </button>
  </div>
</div>
